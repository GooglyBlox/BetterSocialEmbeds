(function(o,l,b,e,d,m){"use strict";const{FormSection:i,FormSwitch:r}=d.Forms;function w(){return m.useProxy(e.storage),e.storage.instagramEnabled??=!0,e.storage.twitterEnabled??=!0,e.storage.xEnabled??=!0,e.storage.tiktokEnabled??=!0,React.createElement(React.Fragment,null,React.createElement(i,{title:"Settings"},React.createElement(r,{label:"Enable BetterInstagramEmbeds",subLabel:"Replace Instagram embeds with ddinstagram embeds",value:e.storage.instagramEnabled,onValueChange:function(t){e.storage.instagramEnabled=t}}),React.createElement(r,{label:"Enable BetterTwitterEmbeds",subLabel:"Replace Twitter embeds with fxtwitter embeds",value:e.storage.twitterEnabled,onValueChange:function(t){e.storage.twitterEnabled=t}}),React.createElement(r,{label:"Enable BetterXEmbeds",subLabel:"Replace X embeds with fixupx embeds",value:e.storage.xEnabled,onValueChange:function(t){e.storage.xEnabled=t}}),React.createElement(r,{label:"Enable BetterTikTokEmbeds",subLabel:"Replace TikTok embeds with tnktok embeds",value:e.storage.tiktokEnabled,onValueChange:function(t){e.storage.tiktokEnabled=t}})))}const E=l.findByProps("sendMessage","receiveMessage");let c;var g={onLoad:function(){c=b.before("sendMessage",E,function(t){const n=t[1].content;if(e.storage.instagramEnabled){const a=/https:\/\/www\.instagram\.com\/(p\/|reel\/)[^ ]+/g;a.test(n)&&(t[1].content=n.replace(a,function(s){return s.replace("https://www.instagram.com","https://www.ddinstagram.com")}))}if(e.storage.twitterEnabled){const a=/https:\/\/twitter\.com\/[^ ]+/g;a.test(n)&&(t[1].content=n.replace(a,function(s){return s.replace("https://twitter.com","https://fxtwitter.com")}))}if(e.storage.xEnabled){const a=/https:\/\/x\.com\/[^ ]+/g;a.test(n)&&(t[1].content=n.replace(a,function(s){return s.replace("https://x.com","https://fixupx.com")}))}if(e.storage.tiktokEnabled){const a=/https:\/\/(?:www\.)?tiktok\.com\/[^ ]+/g;a.test(n)&&(t[1].content=n.replace(a,function(s){return s.replace(/https:\/\/(?:www\.)?tiktok\.com/,"https://tnktok.com")}))}})},onUnload:function(){c()},settings:w};return o.default=g,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.metro,vendetta.patcher,vendetta.plugin,vendetta.ui.components,vendetta.storage);
